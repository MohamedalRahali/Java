<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.effect.InnerShadow?>
<?import javafx.geometry.Insets?>
<?import java.lang.String?>

<AnchorPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="gui.EventViewController" prefHeight="600.0" prefWidth="800.0"
            style="-fx-background-color: linear-gradient(to bottom right, #2d1f17, #4d3428);">
    <children>
        <!-- En-t√™te avec titre -->
        <HBox alignment="CENTER" layoutX="0.0" layoutY="20.0" prefWidth="800.0">
            <Label text="üëÅÔ∏è Liste des √âv√©nements Artistiques"
                   style="-fx-text-fill: #f9c89b;">
                <font>
                    <Font name="Georgia Bold" size="28.0"/>
                </font>
                <effect>
                    <DropShadow color="#00000080" radius="5.0" spread="0.1"/>
                </effect>
            </Label>
        </HBox>

        <!-- Barre de recherche et filtres -->
        <HBox alignment="CENTER" spacing="15" layoutX="50.0" layoutY="70.0" prefWidth="700.0">
            <TextField fx:id="searchField" promptText="Rechercher un √©v√©nement..." prefWidth="350.0"
                       style="-fx-background-color: rgba(255, 255, 255, 0.9);
                             -fx-background-radius: 20px;
                             -fx-prompt-text-fill: #a0522d;
                             -fx-font-size: 14px;
                             -fx-padding: 8px 15px;">
                <effect>
                    <DropShadow color="#00000040" radius="4.0" spread="0.05"/>
                </effect>
            </TextField>



            <ChoiceBox fx:id="filterChoiceBox" prefWidth="150.0"
                       style="-fx-background-color: rgba(255, 255, 255, 0.9);
                             -fx-background-radius: 8px;
                             -fx-font-size: 14px;
                             -fx-mark-color: #a0522d;">
                <effect>
                    <DropShadow color="#00000040" radius="4.0" spread="0.05"/>
                </effect>
            </ChoiceBox>
        </HBox>

        <!-- Container pour le tableau avec bordure d√©corative -->
        <AnchorPane layoutX="50.0" layoutY="120.0" prefHeight="380.0" prefWidth="700.0"
                    style="-fx-background-color: rgba(160, 82, 45, 0.2);
                          -fx-background-radius: 15px;
                          -fx-border-color: #d3a27f;
                          -fx-border-width: 2px;
                          -fx-border-radius: 15px;">

            <effect>
                <DropShadow color="#00000080" radius="10.0" spread="0.1"/>
            </effect>

            <!-- Tableau des √©v√©nements avec style am√©lior√© -->
            <TableView fx:id="eventTable" layoutX="10.0" layoutY="10.0"
                       prefHeight="360.0" prefWidth="680.0"
                       style="-fx-background-color: transparent;
                             -fx-table-cell-border-color: transparent;
                             -fx-border-color: transparent;">
                <columns>
                    <TableColumn fx:id="colTitle" text="Titre" prefWidth="190.0"
                                 style="-fx-alignment: CENTER-LEFT;"/>
                    <TableColumn fx:id="colDate" text="Date" prefWidth="110.0"
                                 style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colLieux" text="Lieu" prefWidth="140.0"
                                 style="-fx-alignment: CENTER-LEFT;"/>
                    <TableColumn fx:id="colStatus" text="Statut" prefWidth="90.0"
                                 style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colNbPlaces" text="Places" prefWidth="70.0"
                                 style="-fx-alignment: CENTER;"/>
                    <TableColumn fx:id="colActions" text="Actions" prefWidth="80.0"
                                 style="-fx-alignment: CENTER;"/>
                </columns>
                <effect>
                    <InnerShadow color="#00000040" radius="4.0" choke="0.1"/>
                </effect>
            </TableView>
        </AnchorPane>

        <!-- Barre de pagination stylis√©e -->
        <HBox alignment="CENTER" layoutX="250.0" layoutY="510.0" prefWidth="300.0">
            <Pagination fx:id="pagination" prefWidth="300.0"
                        style="-fx-page-information-visible: false;
                              -fx-arrows-visible: true;" />
        </HBox>

        <!-- Boutons d'action -->
        <HBox alignment="CENTER" spacing="20" layoutX="50.0" layoutY="520.0">
            <Button text="‚úèÔ∏è Modifier" onAction="#handleEditEvent"
                    style="-fx-background-color: linear-gradient(to bottom, #b25c33, #8d4e2e);
                          -fx-text-fill: #ffe0bd;
                          -fx-font-size: 15px;
                          -fx-background-radius: 8px;
                          -fx-padding: 10px 20px;
                          -fx-cursor: hand;
                          -fx-border-color: #d3a27f;
                          -fx-border-width: 1px;
                          -fx-border-radius: 8px;">
                <effect>
                    <DropShadow color="#00000080" radius="5.0" spread="0.1"/>
                </effect>
                <styleClass>
                    <String fx:value="animated-button"/>
                    <String fx:value="edit-button"/>
                </styleClass>
            </Button>

            <Button text="üóëÔ∏è Supprimer" onAction="#handleDeleteEvent"
                    style="-fx-background-color: linear-gradient(to bottom, #8d4e2e, #6d3e1e);
                          -fx-text-fill: #ffe0bd;
                          -fx-font-size: 15px;
                          -fx-background-radius: 8px;
                          -fx-padding: 10px 20px;
                          -fx-cursor: hand;
                          -fx-border-color: #d3a27f;
                          -fx-border-width: 1px;
                          -fx-border-radius: 8px;">
                <effect>
                    <DropShadow color="#00000080" radius="5.0" spread="0.1"/>
                </effect>
                <styleClass>
                    <String fx:value="animated-button"/>
                    <String fx:value="delete-button"/>
                </styleClass>
            </Button>
        </HBox>

        <HBox alignment="CENTER" layoutX="550.0" layoutY="520.0">
            <Button text="üè† Retour au Dashboard" onAction="#goBackToHome"
                    style="-fx-background-color: linear-gradient(to bottom, #e1701a, #c56016);
                          -fx-text-fill: #fff3e0;
                          -fx-font-size: 15px;
                          -fx-font-weight: bold;
                          -fx-background-radius: 8px;
                          -fx-padding: 10px 20px;
                          -fx-cursor: hand;
                          -fx-border-color: #f9c89b;
                          -fx-border-width: 1px;
                          -fx-border-radius: 8px;">
                <effect>
                    <DropShadow color="#00000080" radius="5.0" spread="0.1"/>
                </effect>
                <styleClass>
                    <String fx:value="animated-button"/>
                    <String fx:value="home-button"/>
                </styleClass>
            </Button>
        </HBox>
    </children>

    <!-- Styles CSS int√©gr√©s -->
    <style>
        /* Styles g√©n√©raux */
        .root {
        -fx-font-family: 'Georgia', serif;
        }

        /* Animation des boutons au survol */
        .animated-button:hover {
        -fx-scale-x: 1.05;
        -fx-scale-y: 1.05;
        -fx-effect: dropshadow(gaussian, rgba(249, 200, 155, 0.6), 15, 0.3, 0, 0);
        }

        /* Styles sp√©cifiques pour chaque bouton */
        .edit-button:hover {
        -fx-background-color: linear-gradient(to bottom, #c86c43, #a05c3e) !important;
        }

        .delete-button:hover {
        -fx-background-color: linear-gradient(to bottom, #a05c3e, #7d4e2e) !important;
        }

        .home-button:hover {
        -fx-background-color: linear-gradient(to bottom, #f18025, #d57026) !important;
        }

        /* Effet de pression du bouton */
        .animated-button:pressed {
        -fx-scale-x: 0.98;
        -fx-scale-y: 0.98;
        -fx-opacity: 0.9;
        }

        /* Style avanc√© pour le tableau */
        .table-view {
        -fx-table-cell-border-color: transparent;
        -fx-background-radius: 12px;
        }

        .table-view .column-header-background {
        -fx-background-color: linear-gradient(to bottom, #a0522d, #8d4e2e);
        -fx-background-radius: 12px 12px 0px 0px;
        -fx-padding: 5px 0px 5px 0px;
        -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 8, 0.2, 0, 2);
        }

        .table-view .column-header, .table-view .filler {
        -fx-background-color: transparent;
        -fx-size: 45px;
        -fx-border-width: 0px;
        }

        .table-view .column-header .label {
        -fx-text-fill: #ffe0bd;
        -fx-font-weight: bold;
        -fx-alignment: CENTER;
        -fx-font-family: "Georgia";
        -fx-padding: 8px;
        -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 3, 0.1, 0, 1);
        }

        .table-view .table-row-cell {
        -fx-background-color: rgba(255, 244, 230, 0.85);
        -fx-border-color: transparent;
        -fx-padding: 5px;
        -fx-cell-size: 45px;
        -fx-font-size: 13px;
        }

        .table-view .table-row-cell:odd {
        -fx-background-color: rgba(242, 232, 222, 0.85);
        }

        .table-view .table-row-cell:hover {
        -fx-background-color: rgba(225, 112, 26, 0.3);
        -fx-text-background-color: #2d1f17;
        }

        .table-view .table-row-cell:selected {
        -fx-background-color: rgba(225, 112, 26, 0.6);
        -fx-text-background-color: #2d1f17;
        -fx-font-weight: bold;
        }

        /* Style pour les cellules du tableau */
        .table-view .table-cell {
        -fx-border-color: transparent;
        -fx-padding: 10px;
        }

        /* Style pour la colonne de statut avec couleurs diff√©rentes selon le statut */
        /* Ces styles seront appliqu√©s dynamiquement dans le contr√¥leur */
        .status-upcoming {
        -fx-text-fill: #388e3c;
        -fx-font-weight: bold;
        -fx-background-color: rgba(200, 230, 201, 0.5);
        -fx-background-radius: 10px;
        -fx-padding: 3px 8px;
        }

        .status-ongoing {
        -fx-text-fill: #1976d2;
        -fx-font-weight: bold;
        -fx-background-color: rgba(187, 222, 251, 0.5);
        -fx-background-radius: 10px;
        -fx-padding: 3px 8px;
        }

        .status-completed {
        -fx-text-fill: #7d4e2e;
        -fx-font-weight: bold;
        -fx-background-color: rgba(211, 162, 127, 0.5);
        -fx-background-radius: 10px;
        -fx-padding: 3px 8px;
        }

        .status-canceled {
        -fx-text-fill: #c62828;
        -fx-font-weight: bold;
        -fx-background-color: rgba(255, 205, 210, 0.5);
        -fx-background-radius: 10px;
        -fx-padding: 3px 8px;
        }

        /* Style pour les boutons d'action dans la colonne Actions */
        .action-button {
        -fx-background-color: transparent;
        -fx-background-radius: 30px;
        -fx-cursor: hand;
        -fx-padding: 5px;
        -fx-border-color: transparent;
        }

        .action-button:hover {
        -fx-background-color: rgba(225, 112, 26, 0.3);
        -fx-scale-x: 1.1;
        -fx-scale-y: 1.1;
        }

        /* Style pour la pagination */
        .pagination {
        -fx-page-information-visible: false;
        }

        .pagination .pagination-control .button {
        -fx-background-color: #a0522d;
        -fx-text-fill: #ffe0bd;
        -fx-background-radius: 20px;
        -fx-padding: 5px 10px;
        }

        .pagination .pagination-control .button:hover {
        -fx-background-color: #c56016;
        -fx-effect: dropshadow(gaussian, rgba(249, 200, 155, 0.6), 8, 0.2, 0, 0);
        }

        .pagination .pagination-control .toggle-button {
        -fx-background-color: rgba(255, 255, 255, 0.8);
        -fx-text-fill: #2d1f17;
        -fx-background-radius: 20px;
        -fx-padding: 5px;
        -fx-min-width: 30px;
        -fx-min-height: 30px;
        -fx-max-width: 30px;
        -fx-max-height: 30px;
        }

        .pagination .pagination-control .toggle-button:selected {
        -fx-background-color: #e1701a;
        -fx-text-fill: #ffe0bd;
        -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 5, 0.1, 0, 1);
        }

        /* Style pour le ChoiceBox */
        .choice-box {
        -fx-background-radius: 8px;
        -fx-mark-color: #a0522d;
        -fx-font-family: "Georgia";
        }

        .choice-box .context-menu {
        -fx-background-color: rgba(255, 244, 230, 0.95);
        -fx-background-radius: 8px;
        -fx-border-color: #d3a27f;
        -fx-border-width: 1px;
        -fx-border-radius: 8px;
        }

        .choice-box .menu-item:focused {
        -fx-background-color: rgba(225, 112, 26, 0.5);
        }

        .choice-box .menu-item > .label {
        -fx-text-fill: #2d1f17;
        }

        .choice-box .menu-item:focused > .label {
        -fx-text-fill: #2d1f17;
        }

        /* Scrollbars stylis√©es */
        .scroll-bar:horizontal, .scroll-bar:vertical{
        -fx-background-color: transparent;
        }

        .scroll-bar:horizontal .track, .scroll-bar:vertical .track{
        -fx-background-color: transparent;
        -fx-border-color: transparent;
        -fx-background-radius: 0em;
        }

        .scroll-bar:horizontal .thumb, .scroll-bar:vertical .thumb {
        -fx-background-color: #a0522d;
        -fx-background-radius: 5em;
        }

        .scroll-bar:horizontal .thumb:hover, .scroll-bar:vertical .thumb:hover {
        -fx-background-color: #c56016;
        }

        .scroll-bar .increment-button, .scroll-bar .decrement-button {
        -fx-background-color: transparent;
        -fx-border-color: transparent;
        }

        .scroll-bar .increment-arrow, .scroll-bar .decrement-arrow {
        -fx-shape: " ";
        -fx-padding: 0.15em 0.0;
        }
    </style>
</AnchorPane>