<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.effect.*?>

<AnchorPane xmlns="http://javafx.com/javafx/17.0.2"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="gui.LoginController"
            prefHeight="800.0" prefWidth="1200.0"
            style="-fx-background-color: white;">
    <children>
        <!-- Background Image -->
        <StackPane AnchorPane.topAnchor="80" AnchorPane.bottomAnchor="60" 
                   AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
            <ImageView fitHeight="660" fitWidth="1200" preserveRatio="false">
                <Image url="@/assets/images/slider-bg.png"/>
                <effect>
                    <GaussianBlur radius="5"/>
                </effect>
            </ImageView>
        </StackPane>

        <!-- Centered Login Form -->
        <VBox alignment="CENTER" spacing="20" layoutX="350.0" layoutY="140.0" prefWidth="500.0" prefHeight="520.0" style="-fx-background-color: rgba(255,255,255,0.92); -fx-background-radius: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 20, 0, 0, 2);">
            <Label text="🔐 Connexion" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #2196F3; -fx-font-family: 'Georgia Bold';">
                <effect>
                    <DropShadow color="#00000033" radius="5.0" spread="0.1"/>
                </effect>
            </Label>
            <TextField fx:id="emailField" promptText="Email" style="-fx-font-size: 16px; -fx-background-radius: 15; -fx-padding: 12; -fx-background-color: #fff; -fx-text-fill: #333;"/>
            <PasswordField fx:id="passwordField" promptText="Mot de passe" style="-fx-font-size: 16px; -fx-background-radius: 15; -fx-padding: 12; -fx-background-color: #fff; -fx-text-fill: #333;"/>
            <HBox alignment="CENTER_LEFT" spacing="5">
                <CheckBox fx:id="rememberMeCheckbox" text="Se souvenir de moi" style="-fx-text-fill: #2196F3;"/>
            </HBox>
            <Button text="Connexion" onAction="#login"
                    style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 15; -fx-padding: 10 20;">
                <effect>
                    <DropShadow color="#00000033" radius="8.0"/>
                </effect>
            </Button>
            <Hyperlink text="Mot de passe oublié ?" onAction="#onForgotPassword" style="-fx-text-fill: #2196F3; -fx-font-size: 14px;"/>
           <Button onAction="#handleGoogleLogin"
                   style="-fx-background-color: #4285f4; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 15; -fx-padding: 10 20;">
               <graphic>
                   <HBox alignment="CENTER" spacing="8">
                       <ImageView fitHeight="20" fitWidth="20" preserveRatio="true">
                           <Image url="@/assets/images/google-logo.png"/>
                       </ImageView>
                       <Label text="Sign in with Google" style="-fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;"/>
                   </HBox>
               </graphic>
               <effect>
                   <DropShadow color="#00000033" radius="8.0"/>
               </effect>
           </Button>
            <Button text="S'inscrire" onAction="#goToRegister" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 15; -fx-padding: 10 20;">
                <effect>
                    <DropShadow color="#00000033" radius="8.0"/>
                </effect>
            </Button>
            <Button text="Quitter" onAction="#handleExit" style="-fx-background-color: #e53935; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 15; -fx-padding: 10 20;">
                <effect>
                    <DropShadow color="#00000033" radius="8.0"/>
                </effect>
            </Button>
        </VBox>
    </children>
</AnchorPane>